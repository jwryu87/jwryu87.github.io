---
layout: default
title: TCP 헤더
parent: 7. OSI 7 Layer
grand_parent: NW (네트워크)
nav_order: 9
---

# TCP 헤더
{: .fs-8 }

7.1 OSI 7 Layer
{: .label .label-purple }

---

## 핵심 키워드

`출발지` `목적지` `제어 플래그 필드` `20 Byte`

---

## 정의/개념

출발지, 목적지, 제어 플래그 필드를 포함하는 **20 Byte 크기를 가진 헤더 값**

---

## TCP 헤더 구조

```
┌─────────────────────────────────────────────────────────┐
│           IP Header (20 bytes)                          │
├─────────────────────────────────────────────────────────┤
│           TCP Header (20 bytes)                         │
├─────────────────────────────────────────────────────────┤
│           TCP Data                                      │
└─────────────────────────────────────────────────────────┘

TCP Header 상세:
┌──────────────────────┬──────────────────────┐
│ 발신지 포트 주소 (16) │ 목적지 포트 주소 (16) │  20 byte
├──────────────────────┴──────────────────────┤  헤더
│         Sequence number (32)                │  (옵션 포함하면
├─────────────────────────────────────────────┤  최대 60 bytes)
│      Acknowledgement number (32)            │
├────┬────┬──────────────┬────────────────────┤
│HLEN│예약│ U A P R S F  │  Window size (16)  │
│(4) │(6) │ R C S S Y I  │                    │
│bits│bits│ G K H T N N  │                    │
├────┴────┴──────────────┼────────────────────┤
│    Checksum (16)       │ Urgent pointer (16)│
├────────────────────────┴────────────────────┤
│           Options and Padding               │
└─────────────────────────────────────────────┘
```

---

## TCP 헤더 상세 설명

| 구분 | 비트 | 설명 |
|:-----|:-----|:-----|
| **발신지 포트 주소 (Source)** | 16bit | 출발지(송신) 포트 번호(IP 주소 + 포트번호 = 소켓 주소)<br>양측 호스트 내 종단 프로세스 식별 필드 |
| **목적지 포트 주소 (Destination)** | 16bit | 목적지(수신) 포트 번호(IP주소 + 포트번호 = 소켓 주소)<br>양측 호스트 내 종단 프로세스 식별 필드 |
| **Sequence number** | 32bit | 송신 데이터 순서 번호, 데이터 시작 순번 값<br>0이 아닌 임의의 수 할당 |
| **Ack number** | 32bit | 상대방이 다음에 전송할 순서 번호를 입력<br>ACK 와 함께 해당 필드에 상대방 전송 번호를 입력 |
| **HLEN** | 4bit | 헤더길이, 4bit 워드 단위로 표시<br>기본헤더 20byte와 옵션 헤더 포함 시 최대 40byte로 구성 |
| **Reserved** | 6bit | 예약 필드<br>현재 사용하지 않는 필드 |
| **Control Flags** | 6bit | URG(긴급), ACK(응답), PSH(버퍼 데이터), RST(강제종료), SYN(연결), FIN(연결종료) 로 구성 |
| **Window size** | 16bit | 수신 버퍼의 여유 공간<br>Sliding Window 제어 방식 |
| **Checksum** | 16bit | 헤더를 포함한 전체 세그먼트에 대한 오류를 검사하는 필드<br>검사합, CRC, BlockSum 등 |
| **Urgent Pointer** | 16bit | 세그먼트가 USG 플래그일 경우 사용하는 필드<br>긴급데이터의 위치값이 할당된 필드 |
| **Options** | 20~40byte | TCP MSS 옵션 협상, 윈도우 제어 제공<br>선택확인응답 기능, 타임스탬프 옵션 정의 제공 |

{: .note }
> TCP header 에서 연결회선 제어와 데이터를 관리하는 제어 플래그(Control Flag)는 매우 중요

---

## 연계 토픽

- [TCP](/docs/nw/07-osi-layer/tcp)
- [TCP 혼잡제어](/docs/nw/07-osi-layer/tcp-congestion)

---

## 학습 체크리스트

- [ ] TCP 헤더 구조 이해
- [ ] 각 필드의 역할 파악
- [ ] Control Flags 의미 암기

---

## 참고자료

- 정보관리기술사 NW 학습자료


