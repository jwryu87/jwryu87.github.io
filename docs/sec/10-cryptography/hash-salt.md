---
layout: default
title: 해시 솔트 (Hash Salt)
parent: 암호화
grand_parent: 보안
nav_order: 6
---

# 해시 솔트 (Hash Salt)
{: .fs-8 }

10.6 암호화
{: .label .label-purple }

---

## 핵심 키워드

`Salt 값` `해시값 비교 검증` `레인보우 테이블 방어` `랜덤 문자열`

---

## 정의/개념

평문과 암호화가 **1대1 암호화된 상태 막기** 위해 세션값, 날짜 생성값을 섞어서 암호화 기법

- 동일한 비밀번호라도 다른 해시값을 생성하여 레인보우 테이블 공격 방어

---

## 메커니즘

### 해시 솔트 적용 전/후 비교

```
┌─────────────────────────────────────────────────────────────┐
│ 해시 솔트 적용 전                                              │
│                                                             │
│   ABCD ──────────────────> 해시함수 ──────> asdf8923hfseo   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ 해시 솔트 적용 후                                              │
│                                                             │
│   ABCD ──┬── Hash ──────> 해시함수 ──────> hfewiou32983     │
│          │   Salt                                           │
│          └───────┘                                          │
└─────────────────────────────────────────────────────────────┘
```

- 동일한 평문(ABCD)도 Salt 적용 시 **다른 해시값** 생성

---

## 프로세스

| 단계 | # | 프로세스 |
|:-----|:--|:---------|
| **해시생성** | 1 | 사용자가 평문 PWD 입력 |
| | 2 | 시스템에서 **Salt 값 생성** 및 평문 PWD 값 결합 |
| | 3 | 해시 알고리즘 처리 및 DB 해시값/랜덤 Salt 값 저장 |
| **해시검증** | 4 | 사용자가 평문 PWD 입력 |
| | 5 | DB 저장된 Salt 값 평문 PWD 결합, 동일 해시 알고리즘으로 암호화 처리 |
| | 6 | 생성된 해시 값 - DB 저장 해시값 비교 검증 |

---

## Salt 특징

| 특징 | 설명 |
|:-----|:-----|
| **랜덤성** | 각 사용자별 고유한 랜덤 값 생성 |
| **저장** | Salt 값은 해시와 함께 DB에 저장 |
| **길이** | 최소 16바이트 이상 권장 |
| **고유성** | 사용자마다 다른 Salt 사용 |

---

## 레인보우 테이블 공격 방어

### 레인보우 테이블이란?

| 항목 | 설명 |
|:-----|:-----|
| **정의** | 해시값-평문 쌍을 미리 계산해둔 조회 테이블 |
| **공격 방식** | 탈취한 해시값을 테이블에서 조회하여 평문 획득 |
| **Salt 효과** | Salt 적용 시 사전 계산된 테이블 무력화 |

### Salt 방어 원리

```
레인보우 테이블: password123 → abc123def456...

Salt 없이: password123 → abc123def456... (테이블 매칭 성공)
Salt 사용: password123 + Salt → xyz789ghi012... (테이블 매칭 실패)
```

---

## Salt vs Pepper

| 구분 | Salt | Pepper |
|:-----|:-----|:-------|
| **저장 위치** | DB에 저장 | 코드/환경변수에 저장 |
| **고유성** | 사용자별 고유 | 시스템 전체 동일 |
| **공개 여부** | 공개 가능 | 비공개 |
| **목적** | 레인보우 테이블 방어 | 추가 보안 계층 |

---

## 구현 예시

```python
import hashlib
import os

# Salt 생성
salt = os.urandom(16)

# 비밀번호 + Salt 결합 후 해시
password = "mypassword"
salted_password = salt + password.encode()
hash_value = hashlib.sha256(salted_password).hexdigest()

# DB 저장: salt + hash_value
```

---

## 연계 토픽

- [해쉬 함수](/docs/sec/10-cryptography/hash-function)
- [키 스트레칭](/docs/sec/10-cryptography/key-stretching)
- [비밀번호 보안](/docs/sec/09-certification/identification-authentication)

---

## 학습 체크리스트

- [ ] Salt 메커니즘 및 프로세스 이해
- [ ] 레인보우 테이블 공격 방어 원리 파악
- [ ] Salt vs Pepper 차이점 이해

---

## 참고자료

- 정보관리기술사 보안 학습자료

