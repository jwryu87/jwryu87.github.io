---
layout: default
title: 무중단 배포 방식
parent: 15. DevOps / TDD / SRE
grand_parent: SW (소프트웨어공학)
nav_order: 3
---

# 무중단 배포 방식
{: .fs-8 }

DevOps
{: .label .label-green }

---

## 핵심 키워드

`Rolling Update` `Blue/Green Deployment` `Canary Release`

---

## 정의/개념

시스템에 의해 제공하는 비즈니스의 **연속성과 안정성을 보장**하기 위해 운영 환경에 소스 배포 시 **서비스가 중단되지 않도록** 코드를 Deploy할 수 있는 기술

---

## 배포 방식 비교

### 1. Rolling Update

```
┌─────────┐    ┌─────────┐    ┌─────────┐
│ ■■■■■■  │ →  │ ■■□□■■  │ →  │ □□□□□□  │
│ State 0 │    │ State 1 │    │  Final  │
└─────────┘    └─────────┘    └─────────┘
  (구버전)      (점진적 교체)    (신버전)
```

| 구분 | 내용 |
|:-----|:-----|
| **설명** | - 일반적인 배포를 의미하며, 단순하게 인스턴스(또는 서버)에 대해 동일한 인스턴스를 띄우고, 순서가 되어 있는 상황에서 1개씩 Rolling 을 통해 점진적으로 인스턴스를 변경하는 기법 |
| **장점** | 관리 및 롤백이 용이 |
| **단점** | 서버 처리 용량에 대한 사전 고려 필요 |

---

### 2. Blue/Green Deployment

```
              User Traffic
                  │
                  ▼
            Load Balancer
                  │
      ┌───────────┴───────────┐
      ▼                       ▼
┌───────────┐           ┌───────────┐
│ ■■■■■■■■  │     →     │ □□□□□□□□  │
│Code Ver 1 │           │Code Ver 2 │
│  (Blue)   │           │  (Green)  │
└───────────┘           └───────────┘
```

| 구분 | 내용 |
|:-----|:-----|
| **설명** | - Old 버전을 블루, New 버전을 그린으로 호명하고, New 버전을 모두 배포 후 서비스 준비가 되었을 때 모든 트래픽을 New 버전으로 한번에 Switching 을 하는 기법 |
| **장점** | - 운영 환경에 영향을 주지 않고, 실제 서비스 환경으로 신버전 테스트가 가능 |
| **단점** | - 시스템 자원이 두배로 필요하여 비용이 증가 |

---

### 3. Canary Release

```
              User Traffic                    User Traffic
                  │                               │
                  ▼                               ▼
            Load Balancer                   Load Balancer
                  │                               │
      ┌───────────┼───────────┐       ┌───────────┼───────────┐
      ▼           ▼           ▼       ▼           ▼           ▼
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│Most User│ │Majority │ │Few Users│ │All Infra│ │All Infra│
│ Ver 1   │ │ Ver 1   │ │ Ver 2   │ │ Ver 2   │ │ Ver 2   │
└─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘
      Code Version 1    Code Ver 2       Code Version 2
```

| 구분 | 내용 |
|:-----|:-----|
| **설명** | - 트래픽 제어를 통해 일부 사용자만 신규 서버로 접속하게 하여 모니터링과 디버깅을 수행한 후 문제가 없는 경우 모든 서버로 교체하는 기법 |
| **장점** | - Risk 를 빠르게 감지 가능, A/B 테스트로도 활용 가능 |
| **단점** | - 네트워크 트래픽에 대한 제어 부담 |

---

## 배포 방식 비교표

| 구분 | Rolling Update | Blue/Green | Canary |
|:-----|:---------------|:-----------|:-------|
| **배포 속도** | 느림 | 빠름 | 중간 |
| **롤백 용이성** | 중간 | 매우 쉬움 | 쉬움 |
| **리소스 사용** | 적음 | 2배 필요 | 중간 |
| **위험도** | 중간 | 낮음 | 매우 낮음 |
| **A/B 테스트** | 불가 | 불가 | 가능 |

---

## 연계 토픽

- [DevOps](/docs/sw/15-devops/devops)
- [CI/CD](/docs/sw/15-devops/ci-cd)
- [SRE](/docs/sw/15-devops/sre)

---

## 학습 체크리스트

- [ ] 3가지 배포 방식 개념 이해
- [ ] 각 방식의 장단점 암기
- [ ] 실무 적용 시나리오 파악

---

## 참고자료

- 정보관리기술사 SW 학습자료
