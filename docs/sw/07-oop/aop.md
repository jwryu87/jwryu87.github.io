---
layout: default
title: AOP
parent: 7. 객체지향(OOP)
grand_parent: SW (소프트웨어공학)
nav_order: 3
---

# AOP (Aspect Oriented Programming)
{: .fs-8 }

7.2 OOP 설계 원리
{: .label .label-yellow }

---

## 핵심 키워드

`핵심 관심사` `횡단 관심사` `결합점` `교차점` `Advice` `Weaving` `Aspect`

---

## 정의/개념

관심사 분리 원칙에 기반하여, 시스템 구성을 **핵심 관심사와 횡단 관심사로 분리**하고 **Weaving을 통해 이를 엮어 프로그램 구현 방법론**

---

## 구성도

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│   핵심관심                                         횡단 관심         │
│  (Core Concern)      Separation of Concern    (Crosscutting Concern)│
│                                                                     │
│   ┌───────────────┐                              ┌───────────────┐  │
│   │   고객 등록    │◄─────── Joint Point ────────►│     인증      │  │
│   ├───────────────┤              │               ├───────────────┤  │
│   │   상품 판매    │◄─── Weaving ─┤─── Aspect ──►│     보안      │  │
│   ├───────────────┤              │   Pointcut    ├───────────────┤  │
│   │  서비스 해지   │◄─────────────┴───── Advice ─►│     로깅      │  │
│   └───────────────┘                              └───────────────┘  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 구성요소

| 구분 | 구성요소 | 설명 | 사례 |
|:-----|:---------|:-----|:-----|
| **관심사** | 핵심관심사 | - 단일 모듈이 가지는 주된 요구사항 | - Business Logic |
| | 횡단관심사 | - 여러 개 모듈에 공통적 사용되는 부가적인 요구사항 | - Logging, Security, Transaction, Error Handler |
| **프로그래밍 요소** | 결합점 (Joint Point) | - Aspect를 플러그인 할 수 있는 애플리케이션 실행지점, Advice를 적용하는 지점 | - 필드, 메소드의 호출 |
| | 교차점 (Point Cut) | - Advice가 어떤 Joint Point에 적용되는지를 정의<br>- 명시적 클래스/메소드 이름, 클래스와 메소드 이름의 패턴과 일치하는 정규식 | - Weaving(결합) 지점 |
| | Advice | - Aspect의 실제 구현체로 어플리케이션의 JointPoint에 삽입 | - Before Advice, After, Around등 |
| **직조** | 직조 (Weaving) | - Advice를 핵심 로직 코드에 적용(컴파일, 클래스 로딩, 런타임 시점) | - 컴파일 시, 클래스 로딩 시, 런타임 시 엮기 |
| | Aspect | - 구현하고자 하는 횡단관심사의 기능 | - 업무에 적용된 로깅 |

{: .note }
> Target: Advice 받는 클래스(커스텀 클래스, 써드파티 클래스)

---

## Advice 유형

| 유형 | 설명 |
|:-----|:-----|
| **Before** | 메소드 실행 전에 동작 |
| **After** | 메소드 실행 후에 동작 |
| **After Returning** | 정상적인 반환 후에 동작 |
| **After Throwing** | 예외 발생 후에 동작 |
| **Around** | 메소드 실행 전후에 동작 |

---

## Weaving 시점

| 시점 | 설명 |
|:-----|:-----|
| **컴파일 시** | AspectJ 컴파일러가 소스코드 컴파일 시 적용 |
| **클래스 로딩 시** | 클래스가 JVM에 로드될 때 적용 |
| **런타임 시** | 프록시 객체를 통해 런타임에 적용 (Spring AOP) |

---

## 연계 토픽

- [IoC/DI](/docs/sw/07-oop/ioc-di)
- [OOP 특징](/docs/sw/07-oop/oop-features)

---

## 학습 체크리스트

- [ ] AOP 구성요소 (관심사, 프로그래밍 요소, 직조) 이해
- [ ] 핵심관심사 vs 횡단관심사 차이 파악
- [ ] Advice 유형 (Before, After, Around 등) 이해
- [ ] Weaving 시점 3가지 파악

---

## 참고자료

- 정보관리기술사 SW 학습자료

