---
layout: default
title: SW 리팩토링
parent: 10. 유지보수
grand_parent: SW (소프트웨어공학)
nav_order: 2
---

# 소프트웨어 리팩토링 (Refactoring)
{: .fs-8 }

유지보수
{: .label .label-purple }

---

## 핵심 키워드

`메소드 정리` `조건문 간결화` `메소드 호출 단순화` `일반화 처리`

---

## 정의/개념

기능 변경 없이, **Code Smell 제거 SW 안정성, 신뢰성 향상 기법**

---

## 프로세스

```
                    ┌─────────────────────────┐
                    │   테스트 실패의 원인을 분석  │
                    └─────────────┬───────────┘
                                  │
                                  ▼
              ┌───────────────────────────────────────┐
              │              동작하는                   │
              │              프로그램                   │
              └───────────────────┬───────────────────┘
                                  │
                    ┌─────────────┴─────────────┐
                    │                           │
              리팩토링 │                     N    │
                    ▼                           │
         ┌─────────────────┐           ┌────────┴────────┐
         │    개선 대상     │ ─────────►│     테스트       │
         │   수행여부 판단   │    Y      │      통과?       │
         │                 │           └────────┬────────┘
         │   Bad Smell     │                    │
         └────────┬────────┘                    │ Y
                  │                             │
                  ▼                             ▼
         ┌─────────────────┐           ┌────────────────┐
         │   새로운 기능    │           │   개선 완료된    │
         │      추가       │◄──────────┤   프로 영역     │
         └─────────────────┘           └────────────────┘
         
    리팩토링 목적을 달성할 때까지 [작은 수정 / 테스트] 반복
```

---

## 리팩토링 기법

| 구분 | 기법 | 설명 |
|:-----|:-----|:-----|
| **메소드 정리** | 메소드 추출<br>(Extract Method) | - 메소드가 너무 길거나 의도를 적어야 이해 가능할 때 별도의 메소드로 분리 |
| | 인라인 메소드<br>(Inline Method) | - 메소드 몸 만으로 뻔한 기능을 호출하는 메소드에 구현하고 기존 메소드는 삭제 |
| **조건문 간결화** | 조건문 분리<br>(Decompose Conditional) | - 복잡한 조건문(if-then-else)이 있을 때, if, then, else 부분을 각각의 메소드로 분리 |
| | 반복실행코드 분리<br>(Consolidate Duplicate Conditional Fragments) | - 조건문의 모든 절에 동일 실행 코드 존재 시, 같은 부분 분리 |
| **메소드 호출 단순화** | 메소드 명 변경<br>(Rename Method) | - 메소드 명을 봐도 기능을 알 수 없을 때 직관적인 들으로 변경 |
| | 매개변수 추가<br>(Add Parameter) | - 기존에 전달하지 않은 정보가 필요할 때 매개변수 추가 전달 |
| **일반화 처리** | 메소드 상향<br>(Pull up Method) | - 동일기능 메소드가 여러 하위 클래스에 존재 시 상위 클래스로 이동 |
| | 필드 하향<br>(Push down Field) | - 일부 하위 클래스만 사용하는 필드를 그 필드를 사용하는 하위 클래스로 이동 |

{: .note }
> Move, Rename, Pull Up, Push Down, Extract 등의 기법을 혼합하여 사용 가능

---

## Code Smell (코드 스멜)

| 유형 | 설명 |
|:-----|:-----|
| **중복 코드** | 동일 코드 반복 |
| **긴 메소드** | 하나의 메소드가 너무 김 |
| **거대한 클래스** | 클래스가 너무 많은 책임 |
| **긴 파라미터 목록** | 파라미터가 너무 많음 |
| **산탄총 수술** | 한 변경이 여러 클래스에 영향 |
| **기능 선망** | 다른 클래스 데이터에 과도한 관심 |

---

## 연계 토픽

- [코드 스멜](/docs/sw/10-maintenance/3r)
- [유지보수 개념](/docs/sw/10-maintenance/maintenance-concept)

---

## 학습 체크리스트

- [ ] 리팩토링 프로세스 이해
- [ ] 4가지 리팩토링 기법 분류 (메소드 정리, 조건문 간결화, 메소드 호출 단순화, 일반화 처리) 이해
- [ ] Code Smell 유형 파악

---

## 참고자료

- 정보관리기술사 SW 학습자료
- Martin Fowler, "Refactoring: Improving the Design of Existing Code"

