---
layout: default
title: 세마포어
parent: 2. 동기화
grand_parent: CAOS (컴퓨터구조/OS)
nav_order: 3
---

# 세마포어 (Semaphore)
{: .fs-8 }

2.2 도구
{: .label .label-green }

---

## 핵심 키워드

`유형(Binary, Counting)` `기법(Busy Waiting, Sleeping Queue)` `P(S)` `V(S)`

---

## 정의/개념

**세마포어(Semaphore)**는 다중 프로세스 운영체계, 프로그램 작성 내에서 상호배제 지원, **세마포어 변수(S)와 연산(P,V)**로 임계영역 접근 **동시성 제어 기법**입니다.

---

## 세마포어 메커니즘

| 구분 | 세마포어 |
|:-----|:---------|
| **개념도** | Process A와 Process B가 P(s)로 임계구역 진입, V(s)로 임계구역 퇴출 |
| **동작원리** | - P(S), V(S) 연산 사용<br>- 임계영역에 진입할 때 P(S) 연산<br>- 임계영역 나올 때 V(S) 연산 수행 |

```
┌────────────────────────────────────┐
│      Process A    Process B       │
│         │             │           │
│       P(s)          P(s)    진행  │
│         │             │     방향  │
│         └─────┬───────┘      │    │
│               │              ▼    │
│           임계구역                │
│               │                   │
│         ┌─────┴───────┐           │
│       V(s)          V(s)          │
│         │             │           │
└────────────────────────────────────┘
```

---

## 세마포어 특징

| 항목 | 세마포어 |
|:-----|:---------|
| **주체** | OS, 개발자 주체의 동시 지원 |
| **상호작용** | 모니터에게 이론적 기반 제공<br>모니터에게 효과적인 기법 제공 |
| **특징** | Binary/Counting 세마포어 확장 가능 |
| **사례** | `Semaphores S;`<br>`P(S); //확인, S--`<br>`임계구역 ()`<br>`V(S) //증가, S++` |
| **구현 사례** | P, V 연산으로 구현 |

---

## 세마포어 유형

| 유형 | 설명 |
|:-----|:-----|
| **이진 세마포어 (Binary)** | 세마포어 값이 0 또는 1, 하나의 프로세스만 임계영역 접근 가능 |
| **계수 세마포어 (Counting)** | 세마포어 값이 0 이상의 정수, 여러 프로세스가 자원 공유 가능 |

---

## P, V 연산

| 연산 | 설명 | 동작 |
|:-----|:-----|:-----|
| **P(S)** | Proberen (검사) | S--; if (S < 0) 대기 큐에 추가 |
| **V(S)** | Verhogen (증가) | S++; if (S <= 0) 대기 큐에서 프로세스 깨움 |

---

## 세마포어 구현 방식

| 방식 | 설명 |
|:-----|:-----|
| **Busy Waiting** | 반복문으로 조건 검사 (CPU 낭비) |
| **Sleeping Queue** | 블록/웨이크업 방식 (효율적) |

---

## 연계 토픽

- [뮤텍스](/docs/caos/02-synchronization/mutex)
- [모니터](/docs/caos/02-synchronization/monitor)
- [경쟁조건](/docs/caos/02-synchronization/race-condition)

---

## 학습 체크리스트

- [ ] P, V 연산 이해
- [ ] Binary vs Counting 세마포어 구분
- [ ] Busy Waiting vs Sleeping Queue

---

## 참고자료

- 정보관리기술사 컴퓨터구조/OS 학습자료

