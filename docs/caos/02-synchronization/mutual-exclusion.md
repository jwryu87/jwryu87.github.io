---
layout: default
title: Mutual Exclusion
parent: 2. 동기화
grand_parent: CAOS (컴퓨터구조/OS)
nav_order: 2
---

# 상호배제 (Mutual Exclusion)
{: .fs-8 }

2.1 문제
{: .label .label-red }

> 암기: **HW(테스인), SW(데피램)**

---

## 핵심 키워드

`다중 프로세스 환경` `임계영역` `공유자원` `HW(Test and Set, Swap, 인터럽트 금지)` `SW(데커, 피터슨, 램포트)`

---

## 정의/개념

**상호배제(Mutual Exclusion)**는 다중 프로세스 환경에서 특정 프로세스가 **임계영역의 공유 자원 사용** 시 다른 프로세스가 접근 하지 못하도록 하는 **동시성 제어 기법**입니다.

---

## 상호배제 메커니즘

```
      ③ A 임계영역 IN              ④ A 임계영역 OUT
            │                           │
            ▼                           ▼
프로세스 A ──────────────────────────────────────────────▶

                  ④ B 임계영역        ⑤ B 임계영역 IN      ⑥ B 임계영역 OUT
                     IN 시도               │                    │
                       │                   ▼                    ▼
프로세스 B ────────────┴── B 보류 ─────────────────────────────────────▶
            │          │                   │                    │
           T1         T2                  T3                   T4
```

---

## 상호배제 요구조건

| 상호배제 조건 | 설명 |
|:-------------|:-----|
| **상호배제** | 두 프로세스가 동시에 임계영역(Critical Session)에 존재 불가 조건 |
| **진행 조건** | 임계영역 밖의 프로세스가 다른 프로세스의 임계영역 진입 차단 불가 조건 |
| **한계 대기 조건** | 프로세스의 임계영역 진입이 무한정 대기 상태 불허하는 조건 |
| **상대 속도 조건** | 프로세스의 상대적 속도는 프로세스의 속도나 수에 영향 무관 조건 |

---

## 상호배제 구현기법

### 가. 상호배제의 하드웨어 기반 기법

| 기법 | 핵심 기술 | 설명 |
|:-----|:---------|:-----|
| **Test and Set** | - 원자적 수행<br>- 단일 Word 검사 | - 하드웨어에서 단일 Word의 내용을 검사하고 변경하는 명령어를 이용한 기법 |
| **Swap** | - 다중 Word 검사 | - 하드웨어에서 다중 Word의 내용을 원자적으로 교환할 수 있는 명령어를 이용한 기법 |
| **인터럽트 금지** | - 인터럽트 차단<br>- 단일 프로세스 적용 가능, 멀티 프로세스 적용 불가 | - 임계영역 실행 완료까지 인터럽트 발생을 차단하는 기법 |

- 상호배제 구현 알고리즘으로 Time Ring 및 Time Ordering 사용되며 소프트웨어 기반 상호배제 기법도 존재

### 나. 상호배제의 소프트웨어 기반 기법

| 기법 | 핵심 기술 | 설명 |
|:-----|:---------|:-----|
| **데커 알고리즘** | - Boolean Flag(사용의사) | - 상호배제 최초 소프트웨어적 구현 기법 |
| **피터슨 알고리즘** | - Turn(자례) 설정<br>- Flag True(의사표시) | - 공유 변수와 자례 설정을 통한 상호배제 구현<br>- 데커 알고리즘(Dekker's Algorithm)을 간소화한 상호배제 기법 |
| **램포트 알고리즘** | - Turn(자례) 양보 | - 의사 표시(Flag True) 및 자례 양보 가능 |
| **베이커리 알고리즘** | - 번호표 기반<br>- 분산처리 환경 | - 분산처리 환경 수행 유리한 상호배제 기법<br>- 수행 순서를 위한 번호표 부여 및 낮은 번호 우선순위 |

- 과도한 **상호배제** 발생 및 점유와 대기, 비선점, 환형대기가 모두 만족할 경우 교착상태 발생

---

## 연계 토픽

- [경쟁조건](/docs/caos/02-synchronization/race-condition)
- [세마포어](/docs/caos/02-synchronization/semaphore)
- [뮤텍스](/docs/caos/02-synchronization/mutex)
- [교착상태](/docs/caos/03-deadlock/deadlock)

---

## 학습 체크리스트

- [ ] 상호배제 요구조건 4가지 이해
- [ ] 하드웨어 기반 기법 (Test and Set, Swap, 인터럽트 금지)
- [ ] 소프트웨어 기반 기법 (데커, 피터슨, 램포트, 베이커리)
- [ ] 교착상태와의 관계 이해

---

## 참고자료

- 정보관리기술사 컴퓨터구조/OS 학습자료

