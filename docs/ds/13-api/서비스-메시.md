---
layout: default
title: 서비스 메시
parent: 13. API
grand_parent: DS (Digital Service)
nav_order: 4
---

# 서비스 메시 (Service Mesh)
{: .fs-8 }

13. API
{: .label .label-purple }

---

## 핵심 키워드

`Sidecar Proxy` `Service Discovery` `Circuit Breaker` `Control Plane` `Data Plane`

---

## 정의/개념

서비스 통합관리, 개별서비스 통신제어, 서비스 내 **Sidecar 구성**을 통한 아키텍처 패턴

- 서비스 간 네트워킹 관련 모든 로직(Logic)을 마이크로서비스(MicroServices)에서 추출하여 사이드카(Sidecar)로 주입
- 마이크로서비스(MicroServices)에는 비즈니스 로직(Business Logic)을 중심으로 남게 되어 경량화 구현 가능

---

## 아키텍처

```
┌─────────────────────────────────────────────────────────────────┐
│                    Service Mesh Control                         │
│                        (Control Plain)                          │
├─────────────────────────────────────────────────────────────────┤
│                        (Data Plain)                             │
│  ┌──────────────────────┐      ┌──────────────────────┐        │
│  │     Computer A       │      │     Computer B       │        │
│  │  ┌────────────────┐  │      │  ┌────────────────┐  │        │
│  │  │  Sidecar Proxy │  │      │  │  Sidecar Proxy │  │        │
│  │  │┌──────────────┐│  │      │  │┌──────────────┐│  │        │
│  │  ││Circuit Breaker││ │←────→│  ││Circuit Breaker││ │        │
│  │  │├──────────────┤│  │      │  │├──────────────┤│  │        │
│  │  ││Service       ││  │      │  ││Service       ││  │        │
│  │  ││Discovery     ││  │      │  ││Discovery     ││  │        │
│  │  │└──────────────┘│  │      │  │└──────────────┘│  │        │
│  │  └────────────────┘  │      │  └────────────────┘  │        │
│  │  ┌────────────────┐  │      │  ┌────────────────┐  │        │
│  │  │   Service A    │  │      │  │   Service B    │  │        │
│  │  │ Business Logic │  │      │  │ Business Logic │  │        │
│  │  └────────────────┘  │      │  └────────────────┘  │        │
│  └──────────────────────┘      └──────────────────────┘        │
└─────────────────────────────────────────────────────────────────┘
```

---

## 주요 기능

| 기능 | 설명 |
|:-----|:-----|
| **Load balancing** | 부하 분산 |
| **Service discovery** | 서비스 탐색 및 등록 |
| **Health checks** | 서비스 상태 확인 |
| **Authentication** | 인증 처리 |
| **Traffic management and routing** | 트래픽 관리 및 라우팅 |
| **Circuit breaking and failover policy** | 장애 차단 및 복구 정책 |
| **Security** | 보안 |
| **Metrics and telemetry** | 메트릭 및 원격 측정 |
| **Fault injection** | 장애 주입 테스트 |

---

## 기술요소

### 아키텍처

| 구분 | 기술요소 | 설명 |
|:-----|:-----|:-----|
| **아키텍처** | Control Plane | - 중앙 집중화된 컨트롤러(Controller)에서 프록시(Proxy) 설정 정보 통제<br>- 컴포넌트(Component)의 관리 및 모니터링(Monitoring) 수행 |
| | Data Plane | - 트래픽(Traffic)을 설정에 따라 프록시를 통해 전달 |

### 컴포넌트

| 구분 | 기술요소 | 설명 |
|:-----|:-----|:-----|
| **컴포넌트** | Sidecar Proxy | - 어플리케이션 컨테이너(Container)와 별도로 추가적 사이드카 컨테이너 배포<br>- 실제 서비스와 병렬로 구성하여 프록시 호출 |
| | Service Discovery | - 서비스 시작 시 컨트롤러에 게시<br>- 트래픽 규칙과 구성을 프록시에 배포 |
| | Circuit Breaker | - Destination Rule을 정의하여 연결 및 이상 감지<br>- 마이크로서비스의 Resiliency 제공 |

### 비즈니스

| 구분 | 기술요소 | 설명 |
|:-----|:-----|:-----|
| **비즈니스** | Business Logic | - 마이크로서비스에서 수행되는 비즈니스 기능 및 데이터 입출력 |

---

## 서비스 메시 주요 솔루션

| 솔루션 | 설명 |
|:-----|:-----|
| **Istio** | Google, IBM, Lyft가 개발한 오픈소스 서비스 메시 |
| **Linkerd** | CNCF 프로젝트, 경량 서비스 메시 |
| **Consul Connect** | HashiCorp의 서비스 메시 솔루션 |
| **AWS App Mesh** | AWS 관리형 서비스 메시 |

---

## 서비스 메시 도입 효과

| 효과 | 설명 |
|:-----|:-----|
| **관심사 분리** | 비즈니스 로직과 네트워킹 로직 분리 |
| **일관된 정책** | 모든 서비스에 일관된 보안/네트워크 정책 적용 |
| **가시성 확보** | 서비스 간 통신 모니터링 및 추적 |
| **장애 복원력** | Circuit Breaker를 통한 장애 전파 방지 |

---

## 연계 토픽

- [마이크로서비스](/docs/ds/13-api/microservice)
- [API Gateway](/docs/ds/13-api/api-gateway)
- [컨테이너](/docs/ds/07-virtualization/container)
- [쿠버네티스](/docs/ds/07-virtualization/kubernetes)

---

## 학습 체크리스트

- [ ] 개념 이해 (경량화 프록시 배치, 통신 제어 아키텍처 패턴)
- [ ] 핵심 키워드 암기 (Sidecar Proxy, Service Discovery, Circuit Breaker)
- [ ] 아키텍처 (Control Plane, Data Plane) 이해
- [ ] 기술요소별 역할 이해
- [ ] 주요 기능 9가지 암기

---

## 참고자료

- 정보관리기술사 DS 학습자료
