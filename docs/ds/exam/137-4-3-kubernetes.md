---
layout: default
title: 137회-4교시-3번 쿠버네티스
parent: 📝 기출문제
grand_parent: DS (Digital Service)
nav_order: 4
permalink: /docs/ds/exam/137-4-3-kubernetes
---

# 쿠버네티스 (Kubernetes)
{: .fs-8 }

137회 정보관리기술사 4교시 3번
{: .label .label-blue }

디지털서비스 / 난이도: 중
{: .label .label-green }

2교시형 (서술형)
{: .label .label-yellow }

---

## 📋 문제

> 쿠버네티스(Kubernetes)에 대하여 다음을 설명하시오.
> - 가. 쿠버네티스의 개념 및 특징
> - 나. 쿠버네티스의 주요 컴포넌트
> - 다. HPA(Horizontal Pod Autoscaler)

---

## 📚 목차

1. [Quick 개념잡기](#-quick-개념잡기)
2. [가. 쿠버네티스의 개념 및 특징](#가-쿠버네티스의-개념-및-특징)
3. [나. 쿠버네티스의 주요 컴포넌트](#나-쿠버네티스의-주요-컴포넌트)
4. [다. HPA(Horizontal Pod Autoscaler)](#다-hpahorizontal-pod-autoscaler)

---

# 🎓 Quick 개념잡기
{: .fs-7 }

> 30초 안에 핵심 개념 이해하기

### 한 줄 정의
**쿠버네티스** = 컨테이너 수백 개를 자동으로 배포·관리·스케일링하는 **오케스트레이션 플랫폼**

### 쉬운 비유

| 오케스트라 | 쿠버네티스 |
|:---------|:----------|
| 🎻 악기 연주자 | 컨테이너(Pod) |
| 👨‍🎤 지휘자 | 쿠버네티스 |
| "바이올린 소리 커!" | "Pod 3개 더 만들어!" |

### 왜 필요한가?
```
Docker로 컨테이너 1개 만들기 → 쉬움 ✅
컨테이너 1000개 관리하기 → 사람이 직접? 불가능! ❌
→ 쿠버네티스가 자동으로 관리 🤖
```

---

# 가. 쿠버네티스의 개념 및 특징 `클상배서`
{: .fs-7 }

---

## 1. 개념

### 정의 (22자)

> **컨테이너 자동배포·스케일링 오케스트레이션 플랫폼**

### 상세 개념

| 구분 | 내용 |
|:----|:-----|
| **정의** | 컨테이너화된 Worker Node와 서비스를 관리하기 위한 확장성을 갖춘 오픈소스 오케스트레이션 플랫폼 |
| **기원** | Google Borg 시스템 기반, 2014년 오픈소스 공개 |
| **관리** | CNCF(Cloud Native Computing Foundation) 주관 |
| **아키텍처** | 중앙 API Server를 통해 Client와 Control Plane, Node가 연결되어 통합 관리 |

---

## 2. 특징

| 특징 | 설명 |
|:----|:-----|
| **클러스터 기반** | 수백~수천대 서버를 마스터 노드를 통해 관리, 클러스터 내 각 노드 간 가상 네트워킹 통신 |
| **상태 관리** | Desired State 선언 시 별도 명령 없이 자동으로 Current State로 수렴, 장애 시 자동 복구 |
| **배포 관리** | 유휴 리소스 관리로 새로운 컨테이너 생성 시 자원 할당, 중앙 자동 배포 및 롤백 관리 |
| **서비스 디스커버리** | 새로운 서비스 추가 시 자동으로 DNS 레코드 생성, 설정 변경 시 프로세스 재시작 |

---

## 3. 암기법

{: .note }
> ### 특징 암기: **"클상배서"**
> 
> | 암기 | 특징 | 핵심 |
> |:-----|:----|:-----|
> | **클** | **클**러스터 기반 | 수천 대 서버 중앙 관리 |
> | **상** | **상**태 관리 | Desired State 자동 수렴 |
> | **배** | **배**포 관리 | 자동 배포, 롤백 |
> | **서** | **서**비스 디스커버리 | DNS 기반 자동 등록 |

---

# 나. 쿠버네티스의 주요 컴포넌트 `A-S-C-E` `P-K-K-C`
{: .fs-7 }

---

## 1. 아키텍처 개념도

```
┌─────────────────────────────────────────────────────────────┐
│                    Kubernetes Cluster                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌───────────────── Control Plane (Master) ──────────────┐ │
│  │                                                        │ │
│  │  ┌───────────┐ ┌───────────┐ ┌────────────────────┐  │ │
│  │  │API Server │ │ Scheduler │ │Controller Manager  │  │ │
│  │  └─────┬─────┘ └───────────┘ └────────────────────┘  │ │
│  │        │         ┌────────────────────┐              │ │
│  │        │         │Cloud Controller Mgr│              │ │
│  │  ┌─────┴─────┐   └────────────────────┘              │ │
│  │  │   etcd    │                                        │ │
│  │  └───────────┘                                        │ │
│  └────────────────────────────────────────────────────────┘ │
│                            │                                │
│            ┌───────────────┼───────────────┐               │
│            ▼               ▼               ▼               │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │Worker Node  │  │Worker Node  │  │Worker Node  │        │
│  │┌──────────┐│  │┌──────────┐│  │┌──────────┐│        │
│  ││ kubelet  ││  ││ kubelet  ││  ││ kubelet  ││        │
│  │├──────────┤│  │├──────────┤│  │├──────────┤│        │
│  ││kube-proxy││  ││kube-proxy││  ││kube-proxy││        │
│  │├──────────┤│  │├──────────┤│  │├──────────┤│        │
│  ││ Pod  Pod ││  ││ Pod  Pod ││  ││ Pod  Pod ││        │
│  │└──────────┘│  │└──────────┘│  │└──────────┘│        │
│  └─────────────┘  └─────────────┘  └─────────────┘        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. Master Node (Control Plane) 컴포넌트 `A-S-C-E`

| 컴포넌트 | 역할 | 상세 |
|:--------|:----|:-----|
| **API Server** | 명령어 전달 역할 진행 | etcd 클러스터와 REST방식 통신, kubectl 명령어를 API서버로 전송 |
| **Scheduler** | Pod 배치 결정 | Pod, 서비스 등 각 자원을 적절한 노드에 할당하는 역할 |
| **Controller Manager** | 상태 관리 컨트롤러 집합 | Replication/Service/Node/Endpoint Controller 등 |
| **Cloud Controller Manager** | 클라우드 제공자 전용 | Node/Router/Service Controller, 클라우드 인프라 연동 |
| **etcd** | 클러스터 데이터 저장소 | 모든 클러스터 데이터를 담는 분산 key-value 저장소 |

---

## 3. Worker Node (Data Plane) 컴포넌트 `P-K-K-C`

| 컴포넌트 | 역할 | 상세 |
|:--------|:----|:-----|
| **Pod** | 배포 최소 단위 | 쿠버네티스에서 가장 기본적인 배포 단위, 1개 이상의 컨테이너 포함 |
| **Kubelet** | Node 에이전트 | Master의 API 서버를 통해 명령 수행, 상태 정보를 Master에 전달 |
| **Kube-proxy** | 네트워크 프록시 | Service → Pod 트래픽 라우팅, 로드밸런싱 |
| **Container Runtime** | 컨테이너 실행 엔진 | Docker, containerd, CRI-O 등 CRI 구현체 |

---

## 4. User/Add-on 컴포넌트

| 구분 | 컴포넌트 | 설명 |
|:----|:--------|:-----|
| **User** | kubectl | 쿠버네티스의 명령 실행 도구 (CLI) |
| **Add-on** | DNS | 쿠버네티스 서비스를 위한 DNS레코드 제공 (CoreDNS) |
| | Dashboard | 쿠버네티스 클러스터를 위한 범용 웹기반 UI |
| | 리소스 모니터링 | 컨테이너들의 시계열 메트릭스 기록 (Prometheus, Grafana) |
| | 클러스터 로깅 | 중앙 로그 저장소에 컨테이너 로그 저장 (EFK Stack) |

---

## 5. 암기법

{: .note }
> ### Master 컴포넌트: **"A-S-C-E"**
> 
> | 암기 | 컴포넌트 | 역할 |
> |:-----|:--------|:-----|
> | **A** | **A**PI Server | 모든 요청의 입구 |
> | **S** | **S**cheduler | Pod 배치 결정 |
> | **C** | **C**ontroller Manager | 상태 유지 관리 |
> | **E** | **E**tcd | 데이터 저장소 |
>
> 💡 **"API로 받아서, Schedule하고, Control해서, Etcd에 저장"**

{: .note }
> ### Worker 컴포넌트: **"P-K-K-C"**
> 
> | 암기 | 컴포넌트 | 역할 |
> |:-----|:--------|:-----|
> | **P** | **P**od | 컨테이너 실행 단위 |
> | **K** | **K**ubelet | Node 에이전트 |
> | **K** | **K**ube-proxy | 네트워크 프록시 |
> | **C** | **C**ontainer Runtime | 컨테이너 엔진 |
>
> 💡 **"Pod를 Kubelet이 관리, Kube-proxy가 네트워크, Container Runtime이 실행"**

---

# 다. HPA(Horizontal Pod Autoscaler)
{: .fs-7 }

---

## 1. 개념

### 정의

> 쿠버네티스에서 **애플리케이션의 부하에 따라 Pod의 개수를 자동으로 늘리거나 줄이는** 오토 스케일링 기능

### 특징

| 특징 | 설명 |
|:----|:-----|
| **메트릭 기반** | CPU, Memory 사용률 모니터링 |
| **자동 스케일링** | 임계값 초과 시 자동 Scale Out/In |
| **무중단** | Pod 재시작 없이 replicas 조정 |
| **안정성** | 트래픽 분산으로 서비스 안정적 유지 |

---

## 2. HPA vs VPA 비교

| 구분 | HPA (Horizontal) | VPA (Vertical) |
|:----|:-----------------|:---------------|
| **스케일링 방향** | 수평 (Pod 개수) | 수직 (Pod 리소스) |
| **조정 대상** | Controller의 replicas | Pod의 CPU/Memory requests |
| **동작** | Pod 수를 늘림 (Scale Out) | Pod 리소스를 증가 (Scale Up) |
| **재시작** | 불필요 | Pod 재시작 필요 |
| **적합 워크로드** | Stateless (웹서버) | Stateful (DB) |

---

## 3. HPA 동작 원리

```
┌─────────────────────────────────────────────────────────────┐
│                    HPA 동작 흐름                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   ┌─────────────┐                  ┌─────────────────┐     │
│   │   Metrics   │  ◄── 메트릭 수집 ── │   Pod 1,2,3     │     │
│   │   Server    │    (CPU, Memory)  │   (현재 3개)     │     │
│   └──────┬──────┘                  └─────────────────┘     │
│          │                                  ▲              │
│          │ 메트릭 조회                       │ replicas    │
│          ▼                                  │ 조정        │
│   ┌─────────────┐                  ┌───────┴───────┐      │
│   │     HPA     │ ── replicas 변경 ─►│  Deployment   │      │
│   │ Controller  │                  │  Controller   │      │
│   └─────────────┘                  └───────────────┘      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 4. HPA 스케일링 계산식

```
desiredReplicas = ceil(currentReplicas × (currentMetric / desiredMetric))
```

### 계산 예시

| 상황 | 계산 |
|:----|:-----|
| CPU 목표: 50%, 현재: 80%, 현재 Pod: 3개 | ceil(3 × 80/50) = ceil(4.8) = **5개** (Scale Out) |
| CPU 목표: 50%, 현재: 20%, 현재 Pod: 4개 | ceil(4 × 20/50) = ceil(1.6) = **2개** (Scale In) |

---

## 5. 암기법

{: .note }
> ### HPA 핵심: **"H-V 수평수직"**
> 
> | 암기 | 유형 | 방향 | 대상 |
> |:-----|:----|:-----|:----|
> | **H** | **H**PA | **H**orizontal (수평) | Pod **개수** |
> | **V** | **V**PA | **V**ertical (수직) | Pod **리소스** |
>
> 💡 **"HPA는 Horizontal = 옆으로 = 개수 늘리기"**
> 💡 **"VPA는 Vertical = 위로 = 리소스 키우기"**

---

## ⭐ 차별점 키워드

{: .important }
> ### KEDA (Kubernetes Event-Driven Autoscaling)
> 
> - HPA의 확장 버전
> - **이벤트 기반 스케일링** (Kafka 큐 길이, HTTP 요청 수 등)
> - **0개까지 Scale In** 가능 (HPA는 최소 1개)
> - Serverless 워크로드에 적합

---

## 📈 상위 토픽 계층도

```
최상위: IT 서비스
    │
    ├── 클라우드 컴퓨팅
    │       │
    │       └── 클라우드 네이티브
    │               │
    │               ├── 컨테이너 (Docker)
    │               │
    │               └── 🎯 쿠버네티스 (K8s)
    │                       ├── 가. 개념 및 특징
    │                       ├── 나. 주요 컴포넌트
    │                       │       ├── Master (A-S-C-E)
    │                       │       └── Worker (P-K-K-C)
    │                       └── 다. HPA
    │                               ├── Horizontal (수평)
    │                               └── Vertical (수직)
    │
    └── 관리형 K8s: EKS, GKE, AKS
```

---

## ✅ 학습 체크리스트

- [ ] 쿠버네티스 개념 정의 (22자)
- [ ] 특징 4가지 암기 (클상배서)
- [ ] Master 컴포넌트 4개 암기 (A-S-C-E)
- [ ] Worker 컴포넌트 4개 암기 (P-K-K-C)
- [ ] HPA vs VPA 차이점 비교
- [ ] HPA 스케일링 계산식 이해

---

*Last Updated: 2025-12-02*
