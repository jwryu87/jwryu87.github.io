---
layout: default
title: 합의 알고리즘
parent: 3. 블록체인
grand_parent: DS (Digital Service)
nav_order: 8
---

# 블록체인 합의 알고리즘 (Consensus Algorithm)
{: .fs-8 }

3.1 블록체인 기본
{: .label .label-purple }

---

## 핵심 키워드

`퍼블릭(PoW, PoS, DPoS, PoET)` `프라이빗(PBFT, PAXOS, RAFT)`

---

## 정의/개념

분산 네트워크, 노드, 상호검증, **시스템 무결성 알고리즘**

---

## 배경

| 문제점 | 해결방안 | 합의 알고리즘 적용 |
|:-------|:---------|:-------------------|
| - 비잔틴 장군 문제<br>→ 참여자 신뢰부는 주체가 없기 때문에<br>- 이중 지불 문제<br>→ 탈 중앙형 환경 | P2P 네트워크에서는 처리된 블록이나 트랜잭션에 문제가 없는지를 확인해부는 주체가 없기 때문에 참여자들은 서로 검토하고 동의하고, 유효성 판단는 절차가 필요 | - 비허가형 블록체인 : PoW, PoS 등<br>- 허가형 블록체인 : PBFT, PoET 등 |

**Double Spent (이중 지불)**: 단일 화폐 단위가 두 번(이중) 결제되는 문제  
**Byzantine General Problem**: 악의적으로 데이터를 조작하여 조작된 정보를 전달할 수 있는 문제

---

## 원리

| 원리 | 설명 |
|:-----|:-----|
| 거래의 독립적 검증 | - 로컬적인 판단 기준에 근거하여 모든 풀 노드가 각 거래마다 독립된 검증 실시<br>- 검증 과정을 통해 유효한 거래들은 네트워크상으로 전파되지만 유효하지 않은 거래들은 전송된 첫 노드에서 폐기 |
| 작업증명 및 신규 블록 추가 | - 작업증명 알고리즘을 통해 증명된 계산량을 사용하여 제출 노드들이 검증된 거래들을 새로운 블록에 독립적으로 추가 |
| 신규 블록 검증 | - 네트워크상에 있는 모든 노드에 의해서 신규 블록 각각이 독립적으로 검증<br>- 테스트를 통해서 유효한 블록만이 네트워크로 전파 |
| 수집 및 선택 | - 모든 노드가 작업증명을 통해 이루어진 최고 누적 작업적으로 선택<br>- 만약 일시적으로 최적 누적 연산에 대한 불일치가 발생할 경우 작업증명이 추가로 발생하며 최종적으로 대상이 선택 |

---

## 유형

### 블록체인 합의알고리즘 분류

**퍼블릭 블록체인**: PoW, PoS, DPoS, PoET, ...  
**프라이빗 블록체인**: PBFT, PAXOS, RAFT, ...

### 합의 프로토콜 비교

| 합의 프로토콜 | 설명 | 적용 블록체인 | 장애 내성 특성 | 완결성 | throughput | time to finality | 확장성 | 활용 사례 |
|:-------------|:-----|:-------------|:---------------|:-------|:-----------|:-----------------|:-------|:----------|
| **PoW** (Proof of Work) | 소모된 연산량이 많을수록 블록을 생성할 확률을 증가 | 비허가형 | 비잔틴 장애 내성 | 무 | 낮음 | 매우 느림 | 매우 높음 | Bitcoin, Ethereum |
| **PoS** (Proof of Stake) | 투자한 지분이 많을수록 블록을 생성할 확률 증가 | 허가형/비허가형 | 비잔틴 장애 내성 | 유/무 | 보통 | 느림 | 높음 | Ethereum Casper |
| **PoA** (Proof of Authority) | 생성된 블록을 채택하는 근원에서 참여 거래들의 평가를 반영한 평판 활용 | 허가형 | 비잔틴 장애 내성 | 유 | 높음 | 빠름 | 보통 | Enterprise |
| **DPoS** (Delegated Proof of Stake) | 지분을 기반으로 한 투표를 이용하여 블록을 생성할 기계 선정 | 허가형/비허가형 | 비잔틴 장애 내성 | 유 | 높음 | 빠름 | 매우 높음 | EOS.IO |
| **PBFT** (Practical Byzantine Fault Tolerance) | 사전에 정의된 절차에 따라 블록을 생성할 기계를 선정하며, 생성된 블록에 대한 나머지 기계의 동의 요청 | 허가형 | 비잔틴 장애 내성 | 유 | 높음 | 빠름 | 매우 높음 | - |
| **Raft** | 사전에 결정된 절차에 따라 블록을 생성할 기계를 선정하며, 생성된 블록에 대한 나머지 기계의 동의 요청 | 일반 장애 내성 | 유 | 매우 빠름 | 낮음 | - | Hyperledger Fabric, R3 Corda |

---

## 학습 체크리스트

- [ ] 합의 알고리즘 정의 이해
- [ ] 비잔틴 장군 문제, 이중 지불 문제 이해
- [ ] 퍼블릭 vs 프라이빗 합의 알고리즘 구분
- [ ] PoW, PoS, DPoS, PBFT 차이점 숙지

---

## 참고자료

- 정보관리기술사 DS 학습자료
