---
layout: default
title: 다차원 색인 구조
parent: 9. DB 성능
grand_parent: DB (데이터베이스)
nav_order: 11
---

# 다차원 색인 구조
{: .fs-8 }

9.11 공간 인덱싱
{: .label .label-blue }

---

## 핵심 키워드

`k-d 트리` `Quad 트리` `R 트리` `PAM` `SAM` `MBR`

---

## 정의/개념

이미지, 멀티미디어 등 비정형 데이터 효율적 검색 위한 다중키 색인 구조

---

## 다차원 색인 구조 유형

| 분류 | 유형 | 세부 종류 |
|:-----|:-----|:----------|
| **PAM**<br>(Point Access Methods) | 점 데이터 접근 | k-d 트리, k-d-b 트리<br>Quad 트리, MLGF |
| **SAM**<br>(Spatial Access Methods) | 공간 데이터 접근 | R 트리, R+ 트리<br>R* 트리 |

---

## 주요 구조별 메커니즘

| 구분 | 메커니즘 | 특징 |
|:-----|:---------|:-----|
| **k-d 트리** | 이진 탐색 트리를 다차원 공간으로 확장<br>각 레벨에서 하나의 차원을 기준으로 분할 | - 다차원 점 데이터 인덱싱 적합<br>- 순환적 다차원 점 데이터 인덱싱 적합 |
| **Quad 트리** | 공간을 4분할(균등)로 분리하는<br>계층적 자료구조 | - 각 노드 탐색비용 O(log₄N)<br>- 2차원 공간 데이터에 주로 사용 |
| **R 트리** | 다차원 공간 데이터 저장 색인<br>MBR(Minimum Bounding Rectangle) 이용 | - 다차원 공간 데이터 저장 색인<br>- MBR 이용한 공간 인덱싱 |

---

## k-d 트리 구조

```
        b(10,10)
       /        \
   a(5,4)        c(9,5)
   /    \
(0,0)   b(2,7)
```

- 이진 탐색 트리를 다차원 공간으로 확장
- 각 레벨에서 축(dimension)을 순환하며 분할

---

## Quad 트리 구조

```
┌───────────┐         Root
│   │       │        / | \ \
│ 1 │   2   │      1  2  3  4
├───┼───────┤            ......
│ 3 │   4   │
└───────────┘
```

- 공간을 4분할로 균등 분리
- 계층적 자료구조 형성
- 탐색 복잡도: O(log₄N)

---

## R 트리 구조

```
      ┌─────┐
      │ Root│
      └──┬──┘
    ┌────┼────┐
  ┌─┴─┐┌─┴─┐┌─┴─┐
  │ A ││ B ││ C │
  └───┘└───┘└───┘
    │     │
  ┌─┼─┐ ┌─┼─┐
  │j│k│ │...│
  └───┘ └───┘
```

- MBR(Minimum Bounding Rectangle) 기반
- 다차원 공간 데이터 저장 및 검색

---

## 연계 토픽

- [인덱스 종류](/docs/db/09-db-performance/index-types)
- [Scan 방식](/docs/db/09-db-performance/scan-methods)
- [빅데이터 시각화](/docs/db/01-bigdata/bigdata-visualization)

---

## 학습 체크리스트

- [ ] PAM과 SAM의 차이점 이해
- [ ] k-d 트리, Quad 트리, R 트리 특징 암기
- [ ] MBR 개념 이해

---

## 참고자료

- 정보관리기술사 데이터베이스 학습자료

